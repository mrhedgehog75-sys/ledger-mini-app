<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Ledger XP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

<div id="app" class="xp-window">

  <h2>Ledger XP</h2>

  <!-- ВКЛАДКИ -->
  <div class="tabs">
    <button onclick="showTab('expenses')">Расходы</button>
    <button onclick="showTab('calendar')">Календарь</button>
    <button onclick="showTab('charts')">Графики</button>
  </div>

  <!-- ===== РАСХОДЫ ===== -->
  <div id="tab-expenses" class="tab-content">

    <div class="summary xp-window">
      <div>Доходы: <b><span id="sum-income">0</span></b></div>
      <hr />
      <div>Повседневные: <span id="sum-daily">0</span></div>
      <div>Основные: <span id="sum-main">0</span></div>
      <div>Крупные: <span id="sum-big">0</span></div>
      <hr />
      <div>Расходы всего: <b><span id="sum-total">0</span></b></div>
      <div>Баланс: <b><span id="sum-balance">0</span></b></div>
    </div>

    <button class="add-btn">＋ Добавить</button>

  </div>

  <!-- ===== КАЛЕНДАРЬ ===== -->
  <div id="tab-calendar" class="tab-content hidden">

    <div class="calendar-header xp-window">
      <button id="prev-month">◀</button>
      <span id="month-title"></span>
      <button id="next-month">▶</button>
    </div>

    <div class="limit-box xp-window">
      <input
        type="number"
        id="daily-limit"
        placeholder="Дневной лимит"
      />
      <button id="save-limit">Сохранить лимит</button>
    </div>

    <div id="calendar" class="calendar"></div>

  </div>

  <!-- ===== ГРАФИКИ ===== -->
  <div id="tab-charts" class="tab-content hidden">

    <div class="xp-window">
      <h4>Расходы по типам</h4>
      <canvas id="barChart" width="300" height="160"></canvas>
    </div>

    <div class="xp-window">
      <h4>Расходы по дням</h4>
      <canvas id="lineChart" width="300" height="160"></canvas>
    </div>

  </div>

</div>

<!-- ===== МОДАЛКА ===== -->
<div id="expense-modal" class="modal hidden">
  <div class="modal-box xp-window">
    <h3>Добавить операцию</h3>

    <select id="flow-input">
      <option value="out">Расход</option>
      <option value="in">Доход</option>
    </select>

    <select id="type-input">
      <option value="daily">Повседневное</option>
      <option value="main">Основное</option>
      <option value="big">Крупное</option>
    </select>

    <input
      type="number"
      id="amount-input"
      placeholder="Сумма"
    />

    <button id="save-expense">Сохранить</button>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
